@using FML.WebApp.MVC.Extensions
@using Familia.WebApp.MVC.Extensions
@using FML.Core.Data
@inject IAspNetUser AppUser

<link href="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>

@if (AppUser.EstaAutenticado())
{
    <div class="d-flex align-items-center">
        <div class="dropdown">
            <a href="#" class="icontext dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                <img class="icon icon-sm rounded-circle" src="https://s.gravatar.com/avatar/@this.HashEmailForGravatar(AppUser.ObterUserEmail())?d=mm&s=45">
            </a> <!-- iconbox // -->
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Meu Perfil</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" asp-controller="Identidade" asp-action="Logout">Sair</a></li>
            </ul>
        </div>
    </div>
}
else
{
    <div class="widget-header text-center">
        <small class="title text-muted">Bem vindo!</small>
        <div>
            <a asp-controller="Identidade" asp-action="Registro">Crie sua conta</a> <span> | </span>
            <a asp-controller="Identidade" asp-action="Login"> Login</a>
        </div>
    </div>
}
